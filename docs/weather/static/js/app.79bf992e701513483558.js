webpackJsonp([1],{"01il":function(t,i){},"6/Y1":function(t,i){},"9n10":function(t,i){},FTHV:function(t,i){},LpOd:function(t,i){},M6Sr:function(t,i){},NHnr:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e("7+uW"),n={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},staticRenderFns:[]};var s=e("VU/8")({name:"App"},n,!1,function(t){e("LpOd")},null,null).exports,r=e("/ocq"),c={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"header"},[i("router-link",{attrs:{to:"/district"}},[i("div",{staticClass:"header-right"},[this._v("\n      "+this._s(this.$store.state.city.district)+"\n    ")])])],1)},staticRenderFns:[]};var o=e("VU/8")({name:"homeHeader"},c,!1,function(t){e("YnT5")},"data-v-cc27409c",null).exports,d=e("mtWM"),l=e.n(d),u={name:"Weather",data:function(){return{temprature:"",tomorrow:{},today:{},afterTomorrow:{},airCondition:{}}},mounted:function(){var t=this,i=this.$store.state.city.defaultDid,e=this.$store.state.city.cid;console.log(e),l.a.all([l.a.get("https://free-api.heweather.com/s6/weather?location="+i+"&key=9b31c7f9a2b94524a6cc3a0596c9f345"),l.a.get("https://free-api.heweather.com/s6/air/now?location="+e+"&key=9b31c7f9a2b94524a6cc3a0596c9f345")]).then(l.a.spread(function(i,e){t.temprature=i.data.HeWeather6[0].now.tmp,console.log(e.data),t.dailyForecast=i.data.HeWeather6[0].daily_forecast,t.today=t.dailyForecast[0],t.tomorrow=t.dailyForecast[1],t.afterTomorrow=t.dailyForecast[2],t.airCondition=e.data.HeWeather6[0].air_now_city}))}},v={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"weather"},[e("div",{staticClass:"temprature"},[t._v("\n    "+t._s(t.temprature)+"℃\n  ")]),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[t._v("\n      预报\n    ")]),t._v(" "),e("div",{staticClass:"c-item"},[e("table",[e("tr",[e("td",[t._v(t._s(t.today.date))]),t._v(" "),e("td",[t._v(t._s(t.today.cond_txt_d))]),t._v(" "),e("td",[t._v(t._s(t.today.tmp_max)+"℃")]),t._v(" "),e("td",[t._v(t._s(t.today.tmp_min)+"℃")])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.tomorrow.date))]),t._v(" "),e("td",[t._v(t._s(t.tomorrow.cond_txt_d))]),t._v(" "),e("td",[t._v(t._s(t.tomorrow.tmp_max)+"℃")]),t._v(" "),e("td",[t._v(t._s(t.tomorrow.tmp_min)+"℃")])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.afterTomorrow.date))]),t._v(" "),e("td",[t._v(t._s(t.afterTomorrow.cond_txt_d))]),t._v(" "),e("td",[t._v(t._s(t.afterTomorrow.tmp_max)+"℃")]),t._v(" "),e("td",[t._v(t._s(t.afterTomorrow.tmp_min)+"℃")])])])])]),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[t._v("\n      空气质量\n    ")]),t._v(" "),e("div",{staticClass:"c-item"},[e("div",{staticClass:"c-content"},[t._v("\n        空气质量指数:\n        "),e("div",{staticClass:"air-content"},[t._v("\n          "+t._s(t.airCondition.aqi)+"\n        ")])]),t._v(" "),e("div",{staticClass:"c-content"},[t._v("\n        空气质量:\n        "),e("div",{staticClass:"air-content"},[t._v("\n          "+t._s(t.airCondition.qlty)+"\n        ")])]),t._v(" "),e("div",{staticClass:"c-content"},[t._v("\n        主要污染物:\n        "),e("div",{staticClass:"air-content"},[t._v("\n          "+t._s(t.airCondition.main)+"\n        ")])]),t._v(" "),e("div",{staticClass:"c-content"},[t._v("\n        PM2.5:\n        "),e("div",{staticClass:"air-content"},[t._v("\n          "+t._s(t.airCondition.pm25)+"\n        ")])])])])])},staticRenderFns:[]};var _={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"position"},[i("div",{staticClass:"change-position"},[i("router-link",{attrs:{to:"/city"}},[i("div",{staticClass:"cur-position"},[this._v("\n        "+this._s(this.$store.state.city.name)+"\n      ")])])],1)])},staticRenderFns:[]};var f={name:"home",components:{homeHeader:o,Weather:e("VU/8")(u,v,!1,function(t){e("6/Y1")},"data-v-f9acbfca",null).exports,position:e("VU/8")({name:"position"},_,!1,function(t){e("gkec")},"data-v-7ae0696c",null).exports},data:function(){return{note:{backgroundImage:"url("+e("cYzl")+") ",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundAttachment:"fixed"}}}},m={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"background",style:this.note},[i("home-header"),this._v(" "),i("weather"),this._v(" "),i("position")],1)},staticRenderFns:[]};var h=e("VU/8")(f,m,!1,function(t){e("zilW")},"data-v-2e2f03ae",null).exports,p={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"city"},t._l(t.cities,function(i,a){return e("div",{key:a,staticClass:"city-item",on:{click:function(e){t.changeCity(i)}}},[t._v("\n    "+t._s(i.name)+"\n  ")])}))},staticRenderFns:[]};var y={name:"city",components:{cityList:e("VU/8")({name:"cityList",props:{cities:""},methods:{changeCity:function(t){this.$store.commit("changeCity",t),this.$router.push("./")}}},p,!1,function(t){e("xu8m")},"data-v-4abf1510",null).exports},data:function(){return{cities:{}}},mounted:function(){this.getCityInfo()},methods:{getCityInfo:function(){l.a.get("/static/wcity.json").then(this.getCityInfoSucc)},getCityInfoSucc:function(t){if((t=t.data).ret&&t.data){var i=t.data;this.cities=i}}}},C={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{},[i("city-list",{attrs:{cities:this.cities}})],1)},staticRenderFns:[]};var g=e("VU/8")(y,C,!1,function(t){e("wp2u")},"data-v-4f395202",null).exports,w={name:"districtList",props:{district:Array},methods:{changeDistrict:function(t,i){this.$store.commit("changeDistrict",t,i),this.$router.push("./")}}},b={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{ref:"wrapper",staticClass:"list"},[e("div",{staticClass:"area"},[e("div",{staticClass:"title border-topbottom"},[t._v("当前区域")]),t._v(" "),e("div",{staticClass:"button-list"},[e("div",{staticClass:"button"},[t._v("\n          "+t._s(this.$store.state.city.district)+"\n        ")])])]),t._v(" "),e("div",{staticClass:"area"},[e("div",{staticClass:"title border-topbottom"},[t._v("区域选择")]),t._v(" "),e("div",{staticClass:"button-list"},t._l(t.district,function(i){return e("div",{key:i.id,staticClass:"button border-bottom",on:{click:function(e){t.changeDistrict({name:i.dName,id:i.id})}}},[t._v("\n          "+t._s(i.dName)+"\n        ")])}))])])},staticRenderFns:[]};var x={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"header"},[this._v("\n  区县选择\n  "),i("router-link",{attrs:{to:"/"}},[i("div",{staticClass:"back"},[this._v("back")])])],1)},staticRenderFns:[]};var k={name:"district",components:{districtList:e("VU/8")(w,b,!1,function(t){e("01il")},"data-v-301dc26a",null).exports,dHeader:e("VU/8")({name:"cityHeader"},x,!1,function(t){e("p/IB")},"data-v-2060643a",null).exports},data:function(){return{district:[]}},mounted:function(){this.getDistrictInfo()},methods:{getDistrictInfo:function(){l.a.get("/static/wcity.json").then(this.getDistrictInfoSucc)},getDistrictInfoSucc:function(t){t=t.data;var i=this.$store.state.city.index-1;if(t.ret&&t.data){var e=t.data;this.district=e[i].district}}}},$={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{},[i("d-header"),this._v(" "),i("district-list",{attrs:{district:this.district}})],1)},staticRenderFns:[]};var D=e("VU/8")(k,$,!1,function(t){e("FTHV")},"data-v-249a2c8d",null).exports;a.a.use(r.a);var S=new r.a({routes:[{path:"/",name:"home",component:h},{path:"/city",name:"city",component:g},{path:"/district",name:"district",component:D}]}),F=e("DVXL"),V=e.n(F),H=(e("9n10"),e("M6Sr"),e("NYxO"));let I={index:"02",name:"上海",cid:"CN101020100",defaultDistrict:"静安区",defaultDid:"CN101021400"};try{localStorage.city&&(I=JSON.parse(localStorage.city))}catch(t){}var N={city:I,district:I.defaultDistrict,defaultDid:I.defaultDid},R={changeCity(t,i){t.city=i,t.city.district=i.defaultDistrict;try{localStorage.city=JSON.stringify(i)}catch(t){}},changeDistrict(t,i){t.city.district=i.name,t.city.defaultDid=i.id;try{localStorage.city.district=JSON.stringify(i),localStorage.city.defaultDid=JSON.stringify(districtid)}catch(t){}}};a.a.use(H.a);var T=new H.a.Store({state:N,mutations:R});a.a.config.productionTip=!1,V.a.attach(document.body),new a.a({el:"#app",router:S,store:T,components:{App:s},template:"<App/>"})},YnT5:function(t,i){},cYzl:function(t,i,e){t.exports=e.p+"static/img/background.8a6cc66.jpg"},gkec:function(t,i){},"p/IB":function(t,i){},wp2u:function(t,i){},xu8m:function(t,i){},zilW:function(t,i){}},["NHnr"]);
//# sourceMappingURL=app.79bf992e701513483558.js.map